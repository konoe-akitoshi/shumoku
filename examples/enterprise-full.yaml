name: "Sakura SRE NEXT Integrated Network"
description: "Complete enterprise network from AWS/ISP to access points across multiple sites"

devices:
  # =======================================================================
  # CLOUD & UPSTREAM LAYER
  # =======================================================================
  
  # AWS Cloud Infrastructure
  - id: AWS-VGW
    name: "AWS VGW Tokyo"
    type: cloud
    role: edge
    metadata:
      ip: "172.16.0.1"
      asn: "64512"
      region: "ap-northeast-1"
      vpc_cidr: "172.16.0.0/16"
      
  - id: AWS-Bastion
    name: "Bastion Host"
    type: server
    role: edge
    metadata:
      ip: "172.16.1.10"
      subnet: "Public_Subnet"
      
  - id: AWS-DNS-LB1
    name: "DNS LB1"
    type: server
    role: edge
    metadata:
      ip: "172.16.2.11"
      subnet: "Private_Subnet"

  # ISP / Internet Exchange
  - id: OCX-Primary
    name: "OCX Primary"
    type: router
    role: edge
    metadata:
      ip: "192.168.157.21"
      asn: "64998"
      provider: "OCX"
      
  - id: OCX-Secondary
    name: "OCX Secondary"
    type: router
    role: edge
    metadata:
      ip: "192.168.157.25"
      asn: "64998"
      provider: "OCX"

  # =======================================================================
  # DATA CENTER CORE LAYER (Sakura DC)
  # =======================================================================
  
  # Core Routers (VRRP HA)
  - id: RTX3510-1
    name: "RTX3510-1 (Master)"
    type: router
    role: core
    metadata:
      ip: "10.241.2.21"
      vrrp_vip: "10.57.0.4"
      vrrp_role: "master"
      asn: "65000"
      location: "Sakura DC Rack"
      
  - id: RTX3510-2
    name: "RTX3510-2 (Backup)"
    type: router
    role: core
    metadata:
      ip: "10.241.2.22"
      vrrp_vip: "10.57.0.4"
      vrrp_role: "backup"
      asn: "65000"
      location: "Sakura DC Rack"

  # Virtual Chassis
  - id: EX4000-VC
    name: "EX4000-VC"
    type: l3-switch
    role: core
    metadata:
      ip: "10.57.0.10"
      model: "Juniper EX4000-12MP"
      vc_members: "2"
      location: "Sakura DC"

  # =======================================================================
  # EVENT VENUE LAYER (TOC Ariake)
  # =======================================================================
  
  # Venue Edge Router
  - id: VPN-RT
    name: "Venue VPN Router"
    type: router
    role: distribution
    metadata:
      ip: "10.57.1.1"
      model: "Yamaha RTX3510"
      location: "NOC Core Area (E-3)"

  # Venue Core Switch
  - id: CoreSW
    name: "Venue Core Switch"
    type: l3-switch
    role: distribution
    metadata:
      ip: "10.57.1.10"
      model: "Juniper EX4400-24T"
      location: "NOC Core Area (E-3)"

  # East Wing Switches
  - id: sw02
    name: "Foyer Switch"
    type: l2-switch
    role: access
    metadata:
      ip: "10.57.2.2"
      location: "Foyer (E-4)"
      model: "Cisco Catalyst 1000"
      
  - id: sw08
    name: "Track A Switch"
    type: l2-switch
    role: access
    metadata:
      ip: "10.57.2.8"
      location: "TRACK A (E-5)"

  # West Wing Switches (Cascade)
  - id: sw03
    name: "Sponsor Area SW1"
    type: l2-switch
    role: access
    metadata:
      ip: "10.57.2.3"
      location: "Sponsor Area (W-1)"
      
  - id: sw04
    name: "Sponsor Area SW2"
    type: l2-switch
    role: access
    metadata:
      ip: "10.57.2.4"
      location: "Sponsor Area (W-2)"
      
  - id: sw06
    name: "Track B Switch"
    type: l2-switch
    role: access
    metadata:
      ip: "10.57.2.6"
      location: "TRACK B (W-3/W-4)"
      
  - id: sw07
    name: "Track C Switch"
    type: l2-switch
    role: access
    metadata:
      ip: "10.57.2.7"
      location: "TRACK C (W-5)"

  # =======================================================================
  # CONGRES SITE (B2F Exhibition)
  # =======================================================================
  
  - id: Congres_Core
    name: "Congres Core"
    type: l3-switch
    role: distribution
    metadata:
      ip: "10.57.3.1"
      model: "Juniper EX4400-48F"
      location: "Congres B2F"

  # Exhibition Switches
  - id: SW-C-03
    name: "Exhibition SW-03"
    type: l2-switch
    role: access
    metadata:
      ip: "10.57.3.3"
      location: "Exhibition Booth A"
      
  - id: SW-C-04
    name: "Exhibition SW-04"
    type: l2-switch
    role: access
    metadata:
      ip: "10.57.3.4"
      location: "Exhibition Booth B"

  # =======================================================================
  # JAMBASE OFFICE SITE
  # =======================================================================
  
  - id: RT-J3-01
    name: "JAMBASE Gateway"
    type: router
    role: distribution
    metadata:
      ip: "10.57.4.1"
      model: "Yamaha RTX1300"
      location: "JAMBASE 3F"

  - id: SW-J3-01
    name: "JAMBASE Core"
    type: l3-switch
    role: distribution
    metadata:
      ip: "10.57.4.10"
      model: "Juniper EX4100"
      location: "JAMBASE 3F"

  - id: SW-J3-02
    name: "Event Hall Switch"
    type: l2-switch
    role: access
    metadata:
      ip: "10.57.4.12"
      location: "Event Hall"

  # Floor Switches
  - id: SW-J4-01
    name: "4F Meeting Room"
    type: l2-switch
    role: access
    metadata:
      ip: "10.57.4.41"
      location: "JAMBASE 4F"
      
  - id: SW-J5-01
    name: "5F Meeting Room"
    type: l2-switch
    role: access
    metadata:
      ip: "10.57.4.51"
      location: "JAMBASE 5F"
      
  - id: SW-J6-01
    name: "6F Meeting Room"
    type: l2-switch
    role: access
    metadata:
      ip: "10.57.4.61"
      location: "JAMBASE 6F"

  # =======================================================================
  # WIRELESS ACCESS POINTS
  # =======================================================================
  
  # Venue APs - Foyer
  - id: AP-Foyer-01
    name: "AP Foyer-01"
    type: access-point
    role: access
    metadata:
      ip: "10.57.200.11"
      model: "Cisco C9120"
      location: "Reception Desk"
      
  - id: AP-Foyer-02
    name: "AP Foyer-02"
    type: access-point
    role: access
    metadata:
      ip: "10.57.200.12"
      model: "Cisco C9120"
      location: "Entrance"

  # Track A APs
  - id: AP-TrackA-01
    name: "AP Track A-01"
    type: access-point
    role: access
    metadata:
      ip: "10.57.200.21"
      model: "Cisco C9120"
      location: "Track A Front"
      
  - id: AP-TrackA-02
    name: "AP Track A-02"
    type: access-point
    role: access
    metadata:
      ip: "10.57.200.22"
      model: "Cisco C9120"
      location: "Track A Center"
      
  - id: AP-TrackA-03
    name: "AP Track A-03"
    type: access-point
    role: access
    metadata:
      ip: "10.57.200.23"
      model: "Cisco C9120"
      location: "Track A Rear"

  # Sponsor Area APs
  - id: AP-Sponsor-01
    name: "AP Sponsor-01"
    type: access-point
    role: access
    metadata:
      ip: "10.57.200.31"
      location: "Sponsor Area W-1"
      
  - id: AP-Sponsor-02
    name: "AP Sponsor-02"
    type: access-point
    role: access
    metadata:
      ip: "10.57.200.32"
      location: "Sponsor Area W-2"

  # Track B/C APs
  - id: AP-TrackB-01
    name: "AP Track B-01"
    type: access-point
    role: access
    metadata:
      ip: "10.57.200.41"
      location: "Track B"
      
  - id: AP-TrackC-01
    name: "AP Track C-01"
    type: access-point
    role: access
    metadata:
      ip: "10.57.200.51"
      location: "Track C"

  # =======================================================================
  # MANAGEMENT INFRASTRUCTURE
  # =======================================================================
  
  - id: CS-J3-01
    name: "Console Server"
    type: server
    role: access
    metadata:
      ip: "10.241.2.87"
      location: "Management Network"
      
  - id: Tailscale-GW
    name: "Tailscale Gateway"
    type: server
    role: access
    metadata:
      ip: "10.241.2.30"
      ts_ip: "100.95.185.75"
      device: "RaspberryPi"

modules:
  - id: cloud
    name: "Cloud & ISP"
    devices: [AWS-VGW, AWS-Bastion, AWS-DNS-LB1, OCX-Primary, OCX-Secondary]
    
  - id: dc-core
    name: "Data Center Core"
    devices: [RTX3510-1, RTX3510-2, EX4000-VC]
    
  - id: venue-noc
    name: "Venue NOC"
    devices: [VPN-RT, CoreSW]
    
  - id: venue-east
    name: "Venue East Wing"
    devices: [sw02, sw08, AP-Foyer-01, AP-Foyer-02, AP-TrackA-01, AP-TrackA-02, AP-TrackA-03]
    
  - id: venue-west
    name: "Venue West Wing"
    devices: [sw03, sw04, sw06, sw07, AP-Sponsor-01, AP-Sponsor-02, AP-TrackB-01, AP-TrackC-01]
    
  - id: congres
    name: "Congres Exhibition"
    devices: [Congres_Core, SW-C-03, SW-C-04]
    
  - id: jambase
    name: "JAMBASE Office"
    devices: [RT-J3-01, SW-J3-01, SW-J3-02, SW-J4-01, SW-J5-01, SW-J6-01]
    
  - id: management
    name: "Management"
    devices: [CS-J3-01, Tailscale-GW]

links:
  # =======================================================================
  # WAN/UPSTREAM CONNECTIONS
  # =======================================================================
  
  # ISP Connections (eBGP)
  - from: OCX-Primary:ge-0/0/0
    to: RTX3510-1:lan2
    bandwidth: "1G"
    type: physical
    metadata:
      protocol: "eBGP"
      local_asn: "65000"
      peer_asn: "64998"
      
  - from: OCX-Secondary:ge-0/0/0
    to: RTX3510-2:lan2
    bandwidth: "1G"
    type: physical
    metadata:
      protocol: "eBGP"
      local_asn: "65000"
      peer_asn: "64998"

  # VPN to AWS
  - from: AWS-VGW:tun1
    to: VPN-RT:tun0
    bandwidth: "500M"
    type: tunnel
    metadata:
      protocol: "IPsec/BGP"
      encryption: "AES256-GCM"

  # =======================================================================
  # DATA CENTER CORE CONNECTIONS
  # =======================================================================
  
  # VRRP HA Link
  - from: RTX3510-1:lan3
    to: RTX3510-2:lan3
    bandwidth: "10G"
    type: physical
    metadata:
      protocol: "VRRP"
      
  # Core to VC
  - from: RTX3510-1:lan4
    to: EX4000-VC:mge-0/0/0
    bandwidth: "1G"
    type: physical
    
  - from: RTX3510-2:lan4
    to: EX4000-VC:ge-1/0/0
    bandwidth: "1G"
    type: physical

  # DC to Venue
  - from: RTX3510-1:lan5
    to: VPN-RT:lan1
    bandwidth: "10G"
    type: physical
    metadata:
      media: "Dark Fiber"
      
  # DC to Congres
  - from: RTX3510-1:xe-0/0/0
    to: Congres_Core:xe-0/0/0
    bandwidth: "10G"
    type: physical
    metadata:
      media: "Fiber OM4"
      
  - from: RTX3510-2:xe-0/0/0
    to: Congres_Core:xe-1/0/0
    bandwidth: "10G"
    type: physical
    metadata:
      media: "Fiber OM4"

  # DC to JAMBASE
  - from: EX4000-VC:ge-0/1/0
    to: RT-J3-01:lan1
    bandwidth: "1G"
    type: physical

  # =======================================================================
  # VENUE INTERNAL CONNECTIONS
  # =======================================================================
  
  # NOC Core
  - from: VPN-RT:lan2
    to: CoreSW:ge-0/0/0
    bandwidth: "10G"
    type: physical

  # East Wing
  - from: CoreSW:ge-0/0/1
    to: sw02:ge-0/0/1
    bandwidth: "1G"
    type: physical
    
  - from: sw02:ge-0/0/2
    to: sw08:ge-0/0/1
    bandwidth: "1G"
    type: physical
    metadata:
      topology: "Cascade"

  # West Wing Cascade
  - from: CoreSW:ge-0/0/2
    to: sw03:ge-0/0/1
    bandwidth: "1G"
    type: physical
    
  - from: sw03:ge-0/0/2
    to: sw04:ge-0/0/1
    bandwidth: "1G"
    type: physical
    metadata:
      topology: "Cascade"
      
  - from: sw04:ge-0/0/2
    to: sw06:ge-0/0/1
    bandwidth: "1G"
    type: physical
    metadata:
      topology: "Cascade"
      
  - from: sw06:ge-0/0/2
    to: sw07:ge-0/0/1
    bandwidth: "1G"
    type: physical
    metadata:
      topology: "Cascade"

  # =======================================================================
  # ACCESS POINT CONNECTIONS
  # =======================================================================
  
  # Foyer APs
  - from: sw02:ge-0/0/10
    to: AP-Foyer-01:eth0
    bandwidth: "1G"
    type: physical
    metadata:
      vlan: "200"
      
  - from: sw02:ge-0/0/11
    to: AP-Foyer-02:eth0
    bandwidth: "1G"
    type: physical
    metadata:
      vlan: "200"

  # Track A APs
  - from: sw08:ge-0/0/10
    to: AP-TrackA-01:eth0
    bandwidth: "1G"
    type: physical
    metadata:
      vlan: "200"
      
  - from: sw08:ge-0/0/11
    to: AP-TrackA-02:eth0
    bandwidth: "1G"
    type: physical
    metadata:
      vlan: "200"
      
  - from: sw08:ge-0/0/12
    to: AP-TrackA-03:eth0
    bandwidth: "1G"
    type: physical
    metadata:
      vlan: "200"

  # Sponsor Area APs
  - from: sw03:ge-0/0/10
    to: AP-Sponsor-01:eth0
    bandwidth: "1G"
    type: physical
    metadata:
      vlan: "200"
      
  - from: sw04:ge-0/0/10
    to: AP-Sponsor-02:eth0
    bandwidth: "1G"
    type: physical
    metadata:
      vlan: "200"

  # Track B/C APs
  - from: sw06:ge-0/0/10
    to: AP-TrackB-01:eth0
    bandwidth: "1G"
    type: physical
    metadata:
      vlan: "200"
      
  - from: sw07:ge-0/0/10
    to: AP-TrackC-01:eth0
    bandwidth: "1G"
    type: physical
    metadata:
      vlan: "200"

  # =======================================================================
  # CONGRES CONNECTIONS
  # =======================================================================
  
  - from: Congres_Core:ge-0/0/3
    to: SW-C-03:ge-0/0/1
    bandwidth: "10G"
    type: physical
    metadata:
      media: "MMF/OM4"
      
  - from: Congres_Core:ge-0/0/4
    to: SW-C-04:ge-0/0/1
    bandwidth: "10G"
    type: physical
    metadata:
      media: "MMF/OM4"

  # =======================================================================
  # JAMBASE CONNECTIONS
  # =======================================================================
  
  - from: RT-J3-01:lan2
    to: SW-J3-01:ge-0/0/1
    bandwidth: "1G"
    type: physical
    
  - from: SW-J3-01:ge-0/0/2
    to: SW-J3-02:ge-0/0/1
    bandwidth: "1G"
    type: physical
    metadata:
      link_agg: "LACP x2"

  # Floor connections
  - from: SW-J3-01:ge-0/0/4
    to: SW-J4-01:ge-0/0/1
    bandwidth: "1G"
    type: physical
    
  - from: SW-J3-01:ge-0/0/5
    to: SW-J5-01:ge-0/0/1
    bandwidth: "1G"
    type: physical
    
  - from: SW-J3-01:ge-0/0/6
    to: SW-J6-01:ge-0/0/1
    bandwidth: "1G"
    type: physical

  # =======================================================================
  # MANAGEMENT CONNECTIONS
  # =======================================================================
  
  - from: CS-J3-01:port21
    to: RTX3510-1:console
    bandwidth: "Serial"
    type: physical
    metadata:
      protocol: "Console"
      
  - from: CS-J3-01:port22
    to: RTX3510-2:console
    bandwidth: "Serial"
    type: physical
    metadata:
      protocol: "Console"

settings:
  direction: TB
  theme: light
  nodeSpacing: 300
  rankSpacing: 500
  legend:
    enabled: true
    position: bottom-right
    showBandwidth: true