# Data Center Network Architecture
# Demonstrates bandwidth visualization, VLAN coloring, and cable types
name: "Data Center Network Architecture"
description: "High availability data center with redundant core switches"

settings:
  direction: TB
  theme: light
  legend: true

subgraphs:
  - id: core
    label: "Core Network"
    style:
      fill: "#E3F2FD"
      stroke: "#1565C0"
      strokeWidth: 2

  - id: distribution
    label: "Distribution Layer"
    style:
      fill: "#E8F5E9"
      stroke: "#2E7D32"
      strokeWidth: 2

  - id: access
    label: "Access Layer"
    style:
      fill: "#FFF3E0"
      stroke: "#E65100"
      strokeWidth: 2

nodes:
  # Core routers (HA pair)
  - id: rtx3510-1
    label:
      - "<b>RTX3510-1</b>"
      - "10.0.0.1"
    type: router
    vendor: yamaha
    model: rtx3510
    parent: core
    rank: 0

  - id: rtx3510-2
    label:
      - "<b>RTX3510-2</b>"
      - "10.0.0.2"
    type: router
    vendor: yamaha
    model: rtx3510
    parent: core
    rank: 0

  # Core switch (Virtual Chassis)
  - id: ex4400-vc
    label:
      - "<b>EX4400-VC</b>"
      - "10.0.1.1"
    type: l3-switch
    vendor: juniper
    model: ex4400
    parent: core
    rank: 1

  # Distribution switches
  - id: dist-sw-01
    label:
      - "<b>Dist-SW-01</b>"
      - "10.0.2.1"
    type: l3-switch
    parent: distribution
    rank: 2

  - id: dist-sw-02
    label:
      - "<b>Dist-SW-02</b>"
      - "10.0.2.2"
    type: l3-switch
    parent: distribution
    rank: 2

  # Access switches
  - id: access-sw-01
    label:
      - "<b>Access-SW-01</b>"
      - "10.0.3.1"
    type: l2-switch
    parent: access
    rank: 3

  - id: access-sw-02
    label:
      - "<b>Access-SW-02</b>"
      - "10.0.3.2"
    type: l2-switch
    parent: access
    rank: 3

  - id: access-sw-03
    label:
      - "<b>Access-SW-03</b>"
      - "10.0.3.3"
    type: l2-switch
    parent: access
    rank: 3

  - id: access-sw-04
    label:
      - "<b>Access-SW-04</b>"
      - "10.0.3.4"
    type: l2-switch
    parent: access
    rank: 3

links:
  # Core redundancy (100G fiber - SMF)
  - from:
      node: rtx3510-1
      port: xe-0/0/0
    to:
      node: rtx3510-2
      port: xe-0/0/0
    bandwidth: 100G
    redundancy: ha
    style:
      stroke: "#eab308"  # Yellow for SMF

  # Core to VC (40G fiber - OM4)
  - from:
      node: rtx3510-1
      port: xe-0/0/1
    to:
      node: ex4400-vc
      port: et-0/0/48
    bandwidth: 40G
    vlan: [100, 200, 300, 400]
    style:
      stroke: "#06b6d4"  # Cyan for OM4

  - from:
      node: rtx3510-2
      port: xe-0/0/1
    to:
      node: ex4400-vc
      port: et-0/0/49
    bandwidth: 40G
    vlan: [100, 200, 300, 400]
    style:
      stroke: "#06b6d4"

  # Core to distribution (25G DAC - dashed)
  - from:
      node: ex4400-vc
      port: xe-0/0/0
    to:
      node: dist-sw-01
      port: xe-0/0/0
    bandwidth: 25G
    type: dashed
    vlan: [100, 200]
    style:
      stroke: "#f97316"  # Orange for DAC

  - from:
      node: ex4400-vc
      port: xe-0/0/1
    to:
      node: dist-sw-02
      port: xe-0/0/0
    bandwidth: 25G
    type: dashed
    vlan: [300, 400]
    style:
      stroke: "#f97316"

  # Distribution to access (10G copper - Cat6a)
  - from:
      node: dist-sw-01
      port: ge-0/0/1
    to:
      node: access-sw-01
      port: ge-0/0/0
    bandwidth: 10G
    vlan: [100]
    style:
      stroke: "#8b5cf6"  # Purple for Cat6a

  - from:
      node: dist-sw-01
      port: ge-0/0/2
    to:
      node: access-sw-02
      port: ge-0/0/0
    bandwidth: 10G
    vlan: [200]
    style:
      stroke: "#8b5cf6"

  - from:
      node: dist-sw-02
      port: ge-0/0/1
    to:
      node: access-sw-03
      port: ge-0/0/0
    bandwidth: 10G
    vlan: [300]
    style:
      stroke: "#8b5cf6"

  - from:
      node: dist-sw-02
      port: ge-0/0/2
    to:
      node: access-sw-04
      port: ge-0/0/0
    bandwidth: 10G
    vlan: [400]
    style:
      stroke: "#8b5cf6"
