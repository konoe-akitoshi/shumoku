{"type":"route","meta":{"status":200,"headers":{"content-type":"text/plain;charset=UTF-8","x-next-cache-tags":"_N_T_/layout,_N_T_/llms-full.txt/layout,_N_T_/llms-full.txt/route,_N_T_/llms-full.txt"}},"body":"# API Reference\n\n\n\nShumoku の TypeScript API リファレンスです。\n\n## Packages\n\n| パッケージ                  | 説明                       |\n| ---------------------- | ------------------------ |\n| `shumoku`              | メインパッケージ（全機能を含む）         |\n| `@shumoku/core`        | コアライブラリ（モデル、レイアウト、レンダラー） |\n| `@shumoku/parser-yaml` | YAML パーサー                |\n| `@shumoku/icons`       | ベンダーアイコン                 |\n\n## YamlParser\n\nYAML 文字列を `NetworkGraph` にパースします。\n\n```typescript\nimport { YamlParser } from 'shumoku'\n\nconst parser = new YamlParser()\nconst graph = parser.parse(yamlString)\n```\n\n### Methods\n\n#### `parse(yaml: string): NetworkGraph`\n\nYAML 文字列をパースして `NetworkGraph` を返します。\n\n## HierarchicalLayoutEngine\n\nネットワークグラフを階層的にレイアウトします。ELK.js を使用。\n\n```typescript\nimport { HierarchicalLayoutEngine } from 'shumoku'\n\nconst engine = new HierarchicalLayoutEngine()\nconst layout = await engine.layout(graph, options)\n```\n\n### Methods\n\n#### `layout(graph: NetworkGraph, options?: LayoutOptions): Promise<LayoutResult>`\n\nグラフをレイアウトして結果を返します。\n\n### LayoutOptions\n\n```typescript\ninterface LayoutOptions {\n  direction?: 'TB' | 'BT' | 'LR' | 'RL'  // レイアウト方向\n  nodeWidth?: number                      // ノード幅\n  nodeHeight?: number                     // ノード高さ\n  spacing?: number                        // ノード間隔\n}\n```\n\n## SvgRenderer\n\nレイアウト結果を SVG 文字列にレンダリングします。\n\n```typescript\nimport { SvgRenderer } from 'shumoku'\n\nconst renderer = new SvgRenderer()\nconst svg = renderer.render(layout, options)\n```\n\n### Methods\n\n#### `render(layout: LayoutResult, options?: RenderOptions): string`\n\nレイアウト結果を SVG 文字列に変換します。\n\n### RenderOptions\n\n```typescript\ninterface RenderOptions {\n  theme?: Theme           // テーマ設定\n  padding?: number        // SVG のパディング\n  showPorts?: boolean     // ポートを表示するか\n}\n```\n\n## Theme\n\nSVG のスタイルをカスタマイズします。\n\n```typescript\nimport { modernTheme, darkTheme, createTheme } from 'shumoku'\n\n// 組み込みテーマ\nconst renderer = new SvgRenderer()\nrenderer.render(layout, { theme: darkTheme })\n\n// カスタムテーマ\nconst customTheme = createTheme({\n  background: '#1a1a2e',\n  node: {\n    fill: '#16213e',\n    stroke: '#0f3460',\n    text: '#e94560'\n  }\n})\n```\n\n### Built-in Themes\n\n* `modernTheme` - ライトテーマ（デフォルト）\n* `darkTheme` - ダークテーマ\n\n## NetworkGraph\n\nネットワークトポロジーのデータ構造です。\n\n```typescript\ninterface NetworkGraph {\n  version: string\n  name?: string\n  devices: Device[]\n  ports?: Port[]\n  links: Link[]\n  modules?: Module[]\n  locations?: Location[]\n  settings?: NetworkSettings\n}\n```\n\n## Device\n\nネットワークデバイスを表します。\n\n```typescript\ninterface Device {\n  id: string\n  name?: string\n  type?: DeviceType\n  role?: DeviceRole\n  status?: DeviceStatus\n  vendor?: string\n  model?: string\n  // ...\n}\n```\n\n### DeviceType\n\n```typescript\nenum DeviceType {\n  Router = 'router',\n  L3Switch = 'l3-switch',\n  L2Switch = 'l2-switch',\n  Firewall = 'firewall',\n  LoadBalancer = 'load-balancer',\n  Server = 'server',\n  AccessPoint = 'access-point',\n  Cloud = 'cloud',\n  Internet = 'internet',\n  VPN = 'vpn',\n  Database = 'database',\n  Generic = 'generic'\n}\n```\n\n## Icons\n\nベンダーアイコンを登録・取得します。\n\n```typescript\nimport { registerAllIcons, getVendorIcon } from '@shumoku/icons'\n\n// 全アイコンを登録\nregisterAllIcons()\n\n// 特定のアイコンを取得\nconst icon = getVendorIcon('yamaha', 'rtx3510')\n```\n\n### Supported Vendors\n\n| ベンダー    | アイコン数 |\n| ------- | ----- |\n| Yamaha  | 103   |\n| Aruba   | 55    |\n| AWS     | 477   |\n| Juniper | 343   |\n\n\n# Examples\n\n\n\n様々なネットワーク構成のサンプルです。\n\n## Simple Network\n\n基本的な 3 層ネットワーク構成。\n\n```yaml\nname: \"Simple Network\"\n\nsettings:\n  direction: TB\n  theme: light\n\nsubgraphs:\n  - id: core\n    label: \"Core\"\n  - id: distribution\n    label: \"Distribution\"\n  - id: access\n    label: \"Access\"\n\nnodes:\n  - id: core-rt\n    label: \"Core Router\"\n    type: router\n    parent: core\n\n  - id: dist-sw-1\n    label: \"Dist SW 1\"\n    type: l3-switch\n    parent: distribution\n\n  - id: dist-sw-2\n    label: \"Dist SW 2\"\n    type: l3-switch\n    parent: distribution\n\n  - id: access-sw-1\n    label: \"Access SW 1\"\n    type: l2-switch\n    parent: access\n\n  - id: access-sw-2\n    label: \"Access SW 2\"\n    type: l2-switch\n    parent: access\n\nlinks:\n  - from: { node: core-rt }\n    to: { node: dist-sw-1 }\n    bandwidth: 10G\n\n  - from: { node: core-rt }\n    to: { node: dist-sw-2 }\n    bandwidth: 10G\n\n  - from: { node: dist-sw-1 }\n    to: { node: access-sw-1 }\n    bandwidth: 1G\n\n  - from: { node: dist-sw-2 }\n    to: { node: access-sw-2 }\n    bandwidth: 1G\n```\n\n## Data Center Network\n\nデータセンターのスパイン・リーフ構成。\n\n```yaml\nname: \"Data Center\"\n\nsettings:\n  direction: TB\n\nsubgraphs:\n  - id: spine\n    label: \"Spine Layer\"\n  - id: leaf\n    label: \"Leaf Layer\"\n  - id: servers\n    label: \"Servers\"\n\nnodes:\n  - id: spine-1\n    label: \"Spine 1\"\n    type: l3-switch\n    parent: spine\n\n  - id: spine-2\n    label: \"Spine 2\"\n    type: l3-switch\n    parent: spine\n\n  - id: leaf-1\n    label: \"Leaf 1\"\n    type: l3-switch\n    parent: leaf\n\n  - id: leaf-2\n    label: \"Leaf 2\"\n    type: l3-switch\n    parent: leaf\n\n  - id: leaf-3\n    label: \"Leaf 3\"\n    type: l3-switch\n    parent: leaf\n\n  - id: srv-1\n    label: \"Server 1\"\n    type: server\n    parent: servers\n\n  - id: srv-2\n    label: \"Server 2\"\n    type: server\n    parent: servers\n\n  - id: srv-3\n    label: \"Server 3\"\n    type: server\n    parent: servers\n\nlinks:\n  # Spine to Leaf (full mesh)\n  - from: { node: spine-1 }\n    to: { node: leaf-1 }\n    bandwidth: 100G\n\n  - from: { node: spine-1 }\n    to: { node: leaf-2 }\n    bandwidth: 100G\n\n  - from: { node: spine-1 }\n    to: { node: leaf-3 }\n    bandwidth: 100G\n\n  - from: { node: spine-2 }\n    to: { node: leaf-1 }\n    bandwidth: 100G\n\n  - from: { node: spine-2 }\n    to: { node: leaf-2 }\n    bandwidth: 100G\n\n  - from: { node: spine-2 }\n    to: { node: leaf-3 }\n    bandwidth: 100G\n\n  # Leaf to Servers\n  - from: { node: leaf-1 }\n    to: { node: srv-1 }\n    bandwidth: 25G\n\n  - from: { node: leaf-2 }\n    to: { node: srv-2 }\n    bandwidth: 25G\n\n  - from: { node: leaf-3 }\n    to: { node: srv-3 }\n    bandwidth: 25G\n```\n\n## Enterprise Network with Yamaha\n\nYamaha 機器を使用した企業ネットワーク。\n\n```yaml\nname: \"Enterprise Network\"\n\nsettings:\n  direction: TB\n  theme: light\n\nsubgraphs:\n  - id: wan\n    label: \"WAN\"\n  - id: dmz\n    label: \"DMZ\"\n  - id: lan\n    label: \"LAN\"\n\nnodes:\n  - id: internet\n    label: \"Internet\"\n    type: internet\n    parent: wan\n\n  - id: router\n    label: \"RTX3510\"\n    type: router\n    vendor: yamaha\n    model: rtx3510\n    parent: wan\n\n  - id: firewall\n    label: \"FWX120\"\n    type: firewall\n    vendor: yamaha\n    model: fwx120\n    parent: dmz\n\n  - id: core-sw\n    label: \"SWX3220\"\n    type: l3-switch\n    vendor: yamaha\n    model: swx3220-16mt\n    parent: lan\n\n  - id: ap\n    label: \"WLX413\"\n    type: access-point\n    vendor: yamaha\n    model: wlx413\n    parent: lan\n\n  - id: server\n    label: \"Server\"\n    type: server\n    parent: lan\n\nlinks:\n  - from: { node: internet }\n    to: { node: router }\n    label: \"PPPoE\"\n\n  - from: { node: router }\n    to: { node: firewall }\n    bandwidth: 1G\n\n  - from: { node: firewall }\n    to: { node: core-sw }\n    bandwidth: 10G\n\n  - from: { node: core-sw }\n    to: { node: ap }\n    bandwidth: 2.5G\n\n  - from: { node: core-sw }\n    to: { node: server }\n    bandwidth: 10G\n```\n\n## AWS Architecture\n\nAWS クラウドアーキテクチャ。\n\n```yaml\nname: \"AWS Architecture\"\n\nsettings:\n  direction: TB\n\nsubgraphs:\n  - id: vpc\n    label: \"VPC\"\n  - id: public\n    label: \"Public Subnet\"\n  - id: private\n    label: \"Private Subnet\"\n\nnodes:\n  - id: igw\n    label: \"Internet Gateway\"\n    vendor: aws\n    service: vpc\n    resource: internet-gateway\n    parent: vpc\n\n  - id: alb\n    label: \"ALB\"\n    vendor: aws\n    service: elb\n    resource: application-load-balancer\n    parent: public\n\n  - id: nat\n    label: \"NAT Gateway\"\n    vendor: aws\n    service: vpc\n    resource: nat-gateway\n    parent: public\n\n  - id: ec2-1\n    label: \"Web Server 1\"\n    vendor: aws\n    service: ec2\n    resource: instance\n    parent: private\n\n  - id: ec2-2\n    label: \"Web Server 2\"\n    vendor: aws\n    service: ec2\n    resource: instance\n    parent: private\n\n  - id: rds\n    label: \"RDS\"\n    vendor: aws\n    service: rds\n    resource: instance\n    parent: private\n\nlinks:\n  - from: { node: igw }\n    to: { node: alb }\n\n  - from: { node: alb }\n    to: { node: ec2-1 }\n\n  - from: { node: alb }\n    to: { node: ec2-2 }\n\n  - from: { node: ec2-1 }\n    to: { node: rds }\n\n  - from: { node: ec2-2 }\n    to: { node: rds }\n\n  - from: { node: ec2-1 }\n    to: { node: nat }\n\n  - from: { node: ec2-2 }\n    to: { node: nat }\n```\n\n## Juniper Network\n\nJuniper 機器を使用したネットワーク。\n\n```yaml\nname: \"Juniper Network\"\n\nsettings:\n  direction: LR\n\nnodes:\n  - id: mx\n    label: \"MX480\"\n    type: router\n    vendor: juniper\n    model: mx480\n\n  - id: qfx-1\n    label: \"QFX5120\"\n    type: l3-switch\n    vendor: juniper\n    model: qfx5120-48y\n\n  - id: qfx-2\n    label: \"QFX5120\"\n    type: l3-switch\n    vendor: juniper\n    model: qfx5120-48y\n\n  - id: ex-1\n    label: \"EX4400\"\n    type: l2-switch\n    vendor: juniper\n    model: ex4400-48p\n\n  - id: ex-2\n    label: \"EX4400\"\n    type: l2-switch\n    vendor: juniper\n    model: ex4400-48p\n\n  - id: srx\n    label: \"SRX4600\"\n    type: firewall\n    vendor: juniper\n    model: srx4600\n\nlinks:\n  - from: { node: mx }\n    to: { node: srx }\n    bandwidth: 100G\n\n  - from: { node: srx }\n    to: { node: qfx-1 }\n    bandwidth: 100G\n\n  - from: { node: srx }\n    to: { node: qfx-2 }\n    bandwidth: 100G\n\n  - from: { node: qfx-1 }\n    to: { node: ex-1 }\n    bandwidth: 10G\n\n  - from: { node: qfx-2 }\n    to: { node: ex-2 }\n    bandwidth: 10G\n```\n\n\n# Getting Started\n\n\n\nShumoku を使ってネットワーク図を作成する方法を説明します。\n\n## Installation\n\n<Tabs items={['npm', 'yarn', 'pnpm', 'bun']}>\n  <Tab value=\"npm\">\n    ```bash\n    npm install shumoku\n    ```\n  </Tab>\n\n  <Tab value=\"yarn\">\n    ```bash\n    yarn add shumoku\n    ```\n  </Tab>\n\n  <Tab value=\"pnpm\">\n    ```bash\n    pnpm add shumoku\n    ```\n  </Tab>\n\n  <Tab value=\"bun\">\n    ```bash\n    bun add shumoku\n    ```\n  </Tab>\n</Tabs>\n\n900+ のベンダーアイコン（Yamaha, Aruba, AWS, Juniper）が含まれています。\n\n### NetBox 連携（オプション）\n\n<Tabs items={['npm', 'yarn', 'pnpm', 'bun']}>\n  <Tab value=\"npm\">\n    ```bash\n    npm install @shumoku/netbox\n    ```\n  </Tab>\n\n  <Tab value=\"yarn\">\n    ```bash\n    yarn add @shumoku/netbox\n    ```\n  </Tab>\n\n  <Tab value=\"pnpm\">\n    ```bash\n    pnpm add @shumoku/netbox\n    ```\n  </Tab>\n\n  <Tab value=\"bun\">\n    ```bash\n    bun add @shumoku/netbox\n    ```\n  </Tab>\n</Tabs>\n\n## Basic Usage\n\n### 1. YAML でネットワークを定義\n\n```yaml\nname: \"My Network\"\n\nnodes:\n  - id: router\n    label: \"Core Router\"\n    type: router\n    vendor: yamaha\n    model: rtx3510\n\n  - id: switch\n    label: \"Main Switch\"\n    type: l2-switch\n\n  - id: server\n    label: \"Web Server\"\n    type: server\n\nlinks:\n  - from: { node: router }\n    to: { node: switch }\n    bandwidth: 10G\n\n  - from: { node: switch }\n    to: { node: server }\n    bandwidth: 1G\n```\n\n### 2. TypeScript/JavaScript で SVG を生成\n\n```typescript\nimport { YamlParser, HierarchicalLayoutEngine, SvgRenderer } from 'shumoku'\n\n// YAML をパース\nconst parser = new YamlParser()\nconst graph = parser.parse(yamlString)\n\n// レイアウト計算\nconst engine = new HierarchicalLayoutEngine()\nconst layout = await engine.layout(graph)\n\n// SVG 生成\nconst renderer = new SvgRenderer()\nconst svg = renderer.render(layout)\n\n// DOM に追加\ndocument.getElementById('diagram').innerHTML = svg\n```\n\nベンダーアイコンは `shumoku` をインポートした時点で自動的に登録されます。\n\n## Next Steps\n\n<Cards>\n  <Card title=\"YAML Reference\" href=\"/docs/yaml-reference\">\n    完全な YAML 記法リファレンス\n  </Card>\n\n  <Card title=\"API Reference\" href=\"/docs/api-reference\">\n    TypeScript API リファレンス\n  </Card>\n\n  <Card title=\"Examples\" href=\"/docs/examples\">\n    サンプルネットワーク集\n  </Card>\n\n  <Card title=\"NetBox\" href=\"/docs/netbox\">\n    NetBox 連携\n  </Card>\n</Cards>\n\n\n# NetBox Integration\n\n\n\nNetBox からネットワーク構成を取得し、Shumoku ダイアグラムを自動生成します。\n\n## インストール\n\n<Tabs items={['npm', 'yarn', 'pnpm', 'bun']}>\n  <Tab value=\"npm\">\n    ```bash\n    npm install @shumoku/netbox\n    ```\n  </Tab>\n\n  <Tab value=\"yarn\">\n    ```bash\n    yarn add @shumoku/netbox\n    ```\n  </Tab>\n\n  <Tab value=\"pnpm\">\n    ```bash\n    pnpm add @shumoku/netbox\n    ```\n  </Tab>\n\n  <Tab value=\"bun\">\n    ```bash\n    bun add @shumoku/netbox\n    ```\n  </Tab>\n</Tabs>\n\n## CLI での使用\n\nコマンドラインから NetBox データを Shumoku YAML に変換できます。\n\n```bash\n# 基本的な使い方\nnpx netbox-to-shumoku --url https://netbox.example.com --token YOUR_API_TOKEN\n\n# ファイルに出力\nnpx netbox-to-shumoku --url https://netbox.example.com --token YOUR_API_TOKEN -o network.yaml\n\n# サイトでフィルタリング\nnpx netbox-to-shumoku --url https://netbox.example.com --token YOUR_API_TOKEN --site tokyo-dc\n```\n\n### CLI オプション\n\n| オプション          | 説明               |\n| -------------- | ---------------- |\n| `--url, -u`    | NetBox の URL（必須） |\n| `--token, -t`  | API トークン（必須）     |\n| `--output, -o` | 出力ファイル（省略時は標準出力） |\n| `--site, -s`   | サイトでフィルタリング      |\n| `--role, -r`   | デバイスロールでフィルタリング  |\n\n## ライブラリとしての使用\n\n### 基本的な使い方\n\n```typescript\nimport { NetBoxClient, convertToShumoku } from '@shumoku/netbox'\nimport { HierarchicalLayoutEngine, SvgRenderer } from '@shumoku/core'\n\n// NetBox クライアントを作成\nconst client = new NetBoxClient({\n  url: 'https://netbox.example.com',\n  token: 'your-api-token'\n})\n\n// デバイスとケーブルを取得\nconst devices = await client.getDevices()\nconst cables = await client.getCables()\n\n// Shumoku NetworkGraph に変換\nconst graph = convertToShumoku({ devices, cables })\n\n// レイアウトとレンダリング\nconst engine = new HierarchicalLayoutEngine()\nconst layout = await engine.layout(graph)\n\nconst renderer = new SvgRenderer()\nconst svg = renderer.render(layout)\n```\n\n### サイト情報を含める\n\n```typescript\nconst devices = await client.getDevices()\nconst cables = await client.getCables()\nconst sites = await client.getSites()\n\nconst graph = convertToShumoku({\n  devices,\n  cables,\n  sites  // サイトを subgraph として変換\n})\n```\n\n### フィルタリング\n\n```typescript\n// 特定のサイトのデバイスのみ取得\nconst devices = await client.getDevices({\n  site: 'tokyo-dc'\n})\n\n// 特定のロールのデバイスのみ取得\nconst devices = await client.getDevices({\n  role: 'core-router'\n})\n\n// 複数条件\nconst devices = await client.getDevices({\n  site: 'tokyo-dc',\n  role: 'core-router',\n  status: 'active'\n})\n```\n\n## API Reference\n\n### NetBoxClient\n\n```typescript\ninterface NetBoxClientOptions {\n  url: string      // NetBox の URL\n  token: string    // API トークン\n}\n\nconst client = new NetBoxClient(options)\n```\n\n#### getDevices\n\n```typescript\ninterface DeviceFilter {\n  site?: string\n  role?: string\n  status?: 'active' | 'planned' | 'staged' | 'failed' | 'offline'\n  manufacturer?: string\n  model?: string\n}\n\nclient.getDevices(filter?: DeviceFilter): Promise<NetBoxDevice[]>\n```\n\n#### getCables\n\n```typescript\nclient.getCables(): Promise<NetBoxCable[]>\n```\n\n#### getSites\n\n```typescript\nclient.getSites(): Promise<NetBoxSite[]>\n```\n\n### convertToShumoku\n\n```typescript\ninterface ConvertOptions {\n  devices: NetBoxDevice[]\n  cables: NetBoxCable[]\n  sites?: NetBoxSite[]\n}\n\nconvertToShumoku(options: ConvertOptions): NetworkGraph\n```\n\n## NetBox のセットアップ\n\n### API トークンの取得\n\n1. NetBox にログイン\n2. 右上のユーザーメニュー → **API Tokens**\n3. **Add a token** をクリック\n4. 必要な権限を設定してトークンを作成\n\n### 必要な権限\n\n読み取り専用の場合、以下の権限が必要です：\n\n* `dcim.view_device`\n* `dcim.view_cable`\n* `dcim.view_site`\n* `dcim.view_interface`\n\n## データマッピング\n\nNetBox のデータは以下のように Shumoku に変換されます：\n\n| NetBox      | Shumoku     |\n| ----------- | ----------- |\n| Device      | Node        |\n| Cable       | Link        |\n| Site        | Subgraph    |\n| Interface   | Port        |\n| Device Role | type の推測に使用 |\n\n### デバイスタイプの自動推測\n\nNetBox の `device_role` から Shumoku の `type` を自動推測します：\n\n| NetBox Device Role                 | Shumoku Type    |\n| ---------------------------------- | --------------- |\n| `router`, `core-router`            | `router`        |\n| `switch`, `access-switch`          | `l2-switch`     |\n| `l3-switch`, `distribution-switch` | `l3-switch`     |\n| `firewall`                         | `firewall`      |\n| `server`, `compute`                | `server`        |\n| `access-point`, `wireless`         | `access-point`  |\n| `load-balancer`                    | `load-balancer` |\n\n## トラブルシューティング\n\n### 接続エラー\n\n```\nError: Failed to connect to NetBox\n```\n\n* URL が正しいか確認\n* API トークンが有効か確認\n* ネットワーク接続を確認\n\n### 権限エラー\n\n```\nError: 403 Forbidden\n```\n\n* API トークンの権限を確認\n* 必要な権限が付与されているか確認\n\n### デバイスが表示されない\n\n* デバイスのステータスが `active` か確認\n* フィルタ条件を確認\n* NetBox でデバイスが正しく登録されているか確認\n\n\n# Vendor Icons\n\n\n\n## インストール\n\n<Tabs items={['npm', 'yarn', 'pnpm', 'bun']}>\n  <Tab value=\"npm\">\n    ```bash\n    npm install @shumoku/icons\n    ```\n  </Tab>\n\n  <Tab value=\"yarn\">\n    ```bash\n    yarn add @shumoku/icons\n    ```\n  </Tab>\n\n  <Tab value=\"pnpm\">\n    ```bash\n    pnpm add @shumoku/icons\n    ```\n  </Tab>\n\n  <Tab value=\"bun\">\n    ```bash\n    bun add @shumoku/icons\n    ```\n  </Tab>\n</Tabs>\n\n```typescript\nimport { registerAllIcons } from '@shumoku/icons'\n\n// アイコンを登録\nregisterAllIcons()\n```\n\n## 使用方法\n\n### ハードウェアベンダー (Yamaha, Juniper 等)\n\n```yaml\nnodes:\n  - id: router-1\n    type: router\n    vendor: yamaha\n    model: rtx3510\n```\n\n### クラウドベンダー (AWS 等)\n\n```yaml\nnodes:\n  - id: instance-1\n    type: server\n    vendor: aws\n    service: ec2\n    resource: instance\n```\n\n## アイコン一覧\n\n<VendorIcons />\n\n\n# YAML Reference\n\n\n\nネットワーク図定義のための YAML 記法リファレンス。\n\n## 基本構造\n\n```yaml\nname: \"Network Diagram\"\ndescription: \"Optional description\"\n\nsettings:\n  # グラフ設定\n\nsubgraphs:\n  # サブグラフ（グループ）定義\n\nnodes:\n  # ノード（機器）定義\n\nlinks:\n  # リンク（接続）定義\n```\n\n***\n\n## Settings\n\n```yaml\nsettings:\n  direction: TB          # レイアウト方向\n  theme: light           # テーマ\n  nodeSpacing: 50        # ノード間隔\n  rankSpacing: 100       # 階層間隔\n  subgraphPadding: 20    # サブグラフ内余白\n  canvas:                # キャンバス設定\n    preset: A4\n    orientation: landscape\n    width: 1920\n    height: 1080\n    dpi: 150\n    fit: true\n    padding: 20\n```\n\n### direction\n\n| 値    | エイリアス        | 説明   |\n| ---- | ------------ | ---- |\n| `TB` | `top-bottom` | 上から下 |\n| `BT` | `bottom-top` | 下から上 |\n| `LR` | `left-right` | 左から右 |\n| `RL` | `right-left` | 右から左 |\n\n### theme\n\n| 値       | 説明     |\n| ------- | ------ |\n| `light` | ライトテーマ |\n| `dark`  | ダークテーマ |\n\n### canvas.preset (用紙サイズ)\n\n`A0`, `A1`, `A2`, `A3`, `A4`, `B0`, `B1`, `B2`, `B3`, `B4`, `letter`, `legal`, `tabloid`\n\n### canvas.orientation\n\n| 値           | エイリアス | 説明  |\n| ----------- | ----- | --- |\n| `portrait`  | `p`   | 縦向き |\n| `landscape` | `l`   | 横向き |\n\n***\n\n## Nodes\n\n```yaml\nnodes:\n  - id: router-1\n    label: \"Router 1\"\n    type: router\n    shape: rounded\n    parent: subgraph-id\n    rank: 1\n    vendor: yamaha\n    model: rtx3510\n    style:\n      fill: \"#ffffff\"\n      stroke: \"#000000\"\n      strokeWidth: 2\n      strokeDasharray: \"5 5\"\n      textColor: \"#333333\"\n      fontSize: 12\n      fontWeight: bold\n      opacity: 1.0\n```\n\n### label\n\n単一行または複数行:\n\n```yaml\nlabel: \"Single line\"\n\nlabel:\n  - \"<b>Bold title</b>\"\n  - \"Line 2\"\n  - \"---\"           # 区切り線\n  - \"Line 3\"\n```\n\n### type (デバイスタイプ)\n\n| 値               | エイリアス    | 説明       |\n| --------------- | -------- | -------- |\n| `router`        | -        | ルーター     |\n| `l3-switch`     | -        | L3 スイッチ  |\n| `l2-switch`     | `switch` | L2 スイッチ  |\n| `firewall`      | -        | ファイアウォール |\n| `load-balancer` | `lb`     | ロードバランサー |\n| `server`        | -        | サーバー     |\n| `access-point`  | `ap`     | アクセスポイント |\n| `cloud`         | -        | クラウド     |\n| `internet`      | -        | インターネット  |\n| `vpn`           | -        | VPN      |\n| `database`      | `db`     | データベース   |\n| `generic`       | -        | 汎用       |\n\n### shape (ノード形状)\n\n| 値           | エイリアス       | 説明            |\n| ----------- | ----------- | ------------- |\n| `rounded`   | `round`     | 角丸四角形 (デフォルト) |\n| `rect`      | `rectangle` | 四角形           |\n| `circle`    | -           | 円             |\n| `diamond`   | `rhombus`   | ひし形           |\n| `hexagon`   | -           | 六角形           |\n| `cylinder`  | `database`  | 円柱            |\n| `stadium`   | `pill`      | スタジアム形        |\n| `trapezoid` | -           | 台形            |\n\n### vendor / model (ベンダーアイコン)\n\nハードウェアベンダーのアイコンを表示:\n\n```yaml\nvendor: yamaha\nmodel: rtx3510\n```\n\nクラウドベンダーの場合:\n\n```yaml\nvendor: aws\nservice: ec2\nresource: instances\n```\n\n***\n\n## Links\n\n```yaml\nlinks:\n  # シンプル形式\n  - from: router-1\n    to: switch-1\n\n  # ポート指定\n  - from:\n      node: router-1\n      port: eth0\n      ip: 192.168.1.1\n    to:\n      node: switch-1\n      port: ge-0/0/0\n\n  # フル指定\n  - id: link-1\n    from: router-1\n    to: switch-1\n    label: \"10G Uplink\"\n    type: solid\n    arrow: none\n    bandwidth: 10G\n    redundancy: mlag\n    vlan: [10, 20, 30]\n    style:\n      stroke: \"#2196F3\"\n      strokeWidth: 2\n      strokeDasharray: \"5 5\"\n      opacity: 1.0\n      minLength: 100\n```\n\n### type (リンクタイプ)\n\n| 値           | エイリアス    | 説明         |\n| ----------- | -------- | ---------- |\n| `solid`     | -        | 実線 (デフォルト) |\n| `dashed`    | `dotted` | 破線         |\n| `thick`     | -        | 太線         |\n| `double`    | -        | 二重線        |\n| `invisible` | `hidden` | 非表示        |\n\n### arrow (矢印)\n\n| 値         | エイリアス | 説明   |\n| --------- | ----- | ---- |\n| `none`    | -     | 矢印なし |\n| `forward` | `->`  | 順方向  |\n| `back`    | `<-`  | 逆方向  |\n| `both`    | `<->` | 双方向  |\n\n### bandwidth (帯域)\n\n| 値      | エイリアス               |\n| ------ | ------------------- |\n| `1G`   | `1GbE`, `1Gbit`     |\n| `10G`  | `10GbE`, `10Gbit`   |\n| `25G`  | `25GbE`, `25Gbit`   |\n| `40G`  | `40GbE`, `40Gbit`   |\n| `100G` | `100GbE`, `100Gbit` |\n\n### redundancy (冗長化タイプ)\n\n| 値       | エイリアス                               | 説明              |\n| ------- | ----------------------------------- | --------------- |\n| `ha`    | `vrrp`, `hsrp`, `glbp`, `keepalive` | HA ペア           |\n| `vc`    | `virtual-chassis`                   | Virtual Chassis |\n| `vss`   | -                                   | VSS             |\n| `vpc`   | -                                   | vPC             |\n| `mlag`  | `mclag`                             | MLAG            |\n| `stack` | `stacking`, `irf`                   | スタック            |\n\n### vlan\n\n単一または複数:\n\n```yaml\nvlan: 10\nvlan: [10, 20, 30]\n```\n\n***\n\n## Subgraphs\n\n```yaml\nsubgraphs:\n  - id: datacenter\n    label: \"Data Center\"\n    parent: null          # ルートレベル\n    direction: LR         # 内部レイアウト方向\n    vendor: aws\n    service: vpc\n    style:\n      fill: \"#f0f8ff\"\n      stroke: \"#0072bc\"\n      strokeWidth: 2\n      strokeDasharray: \"5 5\"\n      labelPosition: top\n      labelFontSize: 14\n      padding: 20\n      nodeSpacing: 50\n      rankSpacing: 100\n\n  - id: rack-1\n    label: \"Rack 1\"\n    parent: datacenter    # ネスト\n```\n\n### style.labelPosition\n\n| 値        | 説明 |\n| -------- | -- |\n| `top`    | 上部 |\n| `bottom` | 下部 |\n| `left`   | 左側 |\n| `right`  | 右側 |\n\n***\n\n## 完全な例\n\n```yaml\nname: \"Enterprise Network\"\ndescription: \"本社ネットワーク構成図\"\n\nsettings:\n  direction: TB\n  theme: light\n\nsubgraphs:\n  - id: edge\n    label: \"Edge Layer\"\n    style:\n      fill: \"#fff5f5\"\n      stroke: \"#d4a017\"\n\n  - id: core\n    label: \"Core Layer\"\n    style:\n      fill: \"#f0fff0\"\n      stroke: \"#228b22\"\n\nnodes:\n  - id: rt-01\n    label:\n      - \"<b>RT-01</b>\"\n      - \"192.168.1.1\"\n    type: router\n    vendor: yamaha\n    model: rtx3510\n    parent: edge\n\n  - id: sw-core-01\n    label: \"<b>SW-CORE-01</b>\"\n    type: l3-switch\n    vendor: juniper\n    model: ex4100-24mp\n    parent: core\n\nlinks:\n  - from:\n      node: rt-01\n      port: lan1\n    to:\n      node: sw-core-01\n      port: ge-0/0/0\n    bandwidth: 10G\n    arrow: none\n```\n\n***\n\n## ベンダーアイコン\n\n| ベンダー   | 使用例                                                  |\n| ------ | ---------------------------------------------------- |\n| Yamaha | `vendor: yamaha`, `model: rtx3510`                   |\n| Aruba  | `vendor: aruba`, `service: access-switch`            |\n| AWS    | `vendor: aws`, `service: ec2`, `resource: instances` |\n"}